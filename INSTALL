Installing HLVM
===============

Dependencies
------------

. libsigsegv >=2.5.
. LLVM sources >=2.5.
. OCaml >=3.10.2.


Installation
------------

Configure, build and install LLVM with:

$ ./configure --with-ocaml-libdir=`ocamlc -where`
$ make -j12
$ sudo make install

WARNING: If you are using Ubuntu then you may need to disable GCC's stack smashing tests by passing gcc the -fno-stack-protector flag. The stack smashing checks seem to conflict with libsigsegv's handling of stack overflows.


HLVM and its auxiliary LLVM OCaml bindings may be compiled using the script:

$ ./compile.sh

This creates an "hlvm" executable that, when run, incrementally JIT compiles and benchmarks a series of tests.

Debug mode may be enabled with:

$ ./hlvm --debug

in which case extensive information is printed to the console describing the process of compilation (which is ideal for debugging when LLVM calls abort due to a type error in the generated code) and also from print statements injected into the generated code itself (e.g. to describe what the GC is doing as it runs).

-- Jon Harrop <jon@ffconsultancy.com>
